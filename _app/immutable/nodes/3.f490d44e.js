import{S as Q,i as X,s as Y,k as w,q as I,a as C,l as b,m as k,r as T,h as p,c as L,n as y,b as P,G as m,u as B,H as M,M as q,d as U,f as J,g as N,N as Z,o as $,O as G,P as ee,v as x,e as j,Q as te,y as le,z as se,A as ae,R as ne,T as re,B as ie}from"../chunks/index.79e665ba.js";const ce="fb685ce350cd9a2fc99747ae935c0f3087f41aa2568d7c39b6229f6a8dbe2009@group.calendar.google.com",O="AIzaSyCch_C1MTw3cPsnAEeq4WdWGsBCrHbzXmU";function z(i){let e,t;return{c(){e=w("img"),this.h()},l(a){e=b(a,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){q(e.src,t=`https://www.googleapis.com/drive/v3/files/${i[2][0].fileId}?key=${O}&alt=media`)||y(e,"src",t),y(e,"alt",""),y(e,"class","attachment-image svelte-18er61f")},m(a,l){P(a,e,l)},p(a,l){l&4&&!q(e.src,t=`https://www.googleapis.com/drive/v3/files/${a[2][0].fileId}?key=${O}&alt=media`)&&y(e,"src",t)},d(a){a&&p(e)}}}function oe(i){var v;let e,t,a,l,r,s,c,n,f,_,g,E=(i[1]||"No description available")+"",o,d,u=((v=i[2])==null?void 0:v.length)>0&&z(i);return{c(){e=w("div"),t=w("div"),a=w("div"),l=I(i[4]),r=I(" - "),s=I(i[3]),c=C(),n=w("h3"),f=I(i[0]),_=C(),g=w("p"),o=I(E),d=C(),u&&u.c(),this.h()},l(h){e=b(h,"DIV",{class:!0});var D=k(e);t=b(D,"DIV",{class:!0});var S=k(t);a=b(S,"DIV",{class:!0});var A=k(a);l=T(A,i[4]),r=T(A," - "),s=T(A,i[3]),A.forEach(p),c=L(S),n=b(S,"H3",{class:!0});var V=k(n);f=T(V,i[0]),V.forEach(p),_=L(S),g=b(S,"P",{class:!0});var W=k(g);o=T(W,E),W.forEach(p),S.forEach(p),d=L(D),u&&u.l(D),D.forEach(p),this.h()},h(){y(a,"class","event-time svelte-18er61f"),y(n,"class","event-summary svelte-18er61f"),y(g,"class","event-description"),y(t,"class","event-details"),y(e,"class","event svelte-18er61f")},m(h,D){P(h,e,D),m(e,t),m(t,a),m(a,l),m(a,r),m(a,s),m(t,c),m(t,n),m(n,f),m(t,_),m(t,g),m(g,o),m(e,d),u&&u.m(e,null)},p(h,[D]){var S;D&16&&B(l,h[4]),D&8&&B(s,h[3]),D&1&&B(f,h[0]),D&2&&E!==(E=(h[1]||"No description available")+"")&&B(o,E),((S=h[2])==null?void 0:S.length)>0?u?u.p(h,D):(u=z(h),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i:M,o:M,d(h){h&&p(e),u&&u.d()}}}function fe(i,e,t){let a,l,{end:r}=e,{start:s}=e,{summary:c}=e,{description:n}=e,{attachments:f}=e;return i.$$set=_=>{"end"in _&&t(5,r=_.end),"start"in _&&t(6,s=_.start),"summary"in _&&t(0,c=_.summary),"description"in _&&t(1,n=_.description),"attachments"in _&&t(2,f=_.attachments)},i.$$.update=()=>{i.$$.dirty&64&&t(4,a=new Date(s.dateTime).toLocaleTimeString("en-US",{timeStyle:"short"})),i.$$.dirty&32&&t(3,l=new Date(r.dateTime).toLocaleTimeString("en-US",{timeStyle:"short"}))},[c,n,f,l,a,r,s]}class ue extends Q{constructor(e){super(),X(this,e,fe,oe,Y,{end:5,start:6,summary:0,description:1,attachments:2})}}function H(i,e,t){const a=i.slice();return a[10]=e[t],a}function R(i,e,t){const a=i.slice();return a[13]=e[t],a}function F(i){let e,t,a=i[13]+"",l,r,s,c;return{c(){e=w("li"),t=w("button"),l=I(a),r=C(),this.h()},l(n){e=b(n,"LI",{class:!0});var f=k(e);t=b(f,"BUTTON",{type:!0,class:!0});var _=k(t);l=T(_,a),_.forEach(p),r=L(f),f.forEach(p),this.h()},h(){y(t,"type","button"),y(t,"class","svelte-1x6l8wc"),y(e,"class","day-selector svelte-1x6l8wc"),G(e,"selected",i[13]===i[0])},m(n,f){P(n,e,f),m(e,t),m(t,l),m(e,r),s||(c=ee(t,"click",i[3]),s=!0)},p(n,f){f&5&&G(e,"selected",n[13]===n[0])},d(n){n&&p(e),s=!1,c()}}}function _e(i){let e,t;return{c(){e=w("p"),t=I("No events today!"),this.h()},l(a){e=b(a,"P",{class:!0});var l=k(e);t=T(l,"No events today!"),l.forEach(p),this.h()},h(){y(e,"class","no-events svelte-1x6l8wc")},m(a,l){P(a,e,l),m(e,t)},p:M,i:M,o:M,d(a){a&&p(e)}}}function de(i){let e,t,a=i[1],l=[];for(let s=0;s<a.length;s+=1)l[s]=K(H(i,a,s));const r=s=>U(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=j()},l(s){for(let c=0;c<l.length;c+=1)l[c].l(s);e=j()},m(s,c){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(s,c);P(s,e,c),t=!0},p(s,c){if(c&2){a=s[1];let n;for(n=0;n<a.length;n+=1){const f=H(s,a,n);l[n]?(l[n].p(f,c),N(l[n],1)):(l[n]=K(f),l[n].c(),N(l[n],1),l[n].m(e.parentNode,e))}for(x(),n=a.length;n<l.length;n+=1)r(n);J()}},i(s){if(!t){for(let c=0;c<a.length;c+=1)N(l[c]);t=!0}},o(s){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)U(l[c]);t=!1},d(s){Z(l,s),s&&p(e)}}}function K(i){let e,t;const a=[i[10]];let l={};for(let r=0;r<a.length;r+=1)l=te(l,a[r]);return e=new ue({props:l}),{c(){le(e.$$.fragment)},l(r){se(e.$$.fragment,r)},m(r,s){ae(e,r,s),t=!0},p(r,s){const c=s&2?ne(a,[re(r[10])]):{};e.$set(c)},i(r){t||(N(e.$$.fragment,r),t=!0)},o(r){U(e.$$.fragment,r),t=!1},d(r){ie(e,r)}}}function he(i){let e,t,a,l,r,s,c,n=i[2],f=[];for(let o=0;o<n.length;o+=1)f[o]=F(R(i,n,o));const _=[de,_e],g=[];function E(o,d){var u;return((u=o[1])==null?void 0:u.length)>0?0:1}return r=E(i),s=g[r]=_[r](i),{c(){e=w("div"),t=w("ul");for(let o=0;o<f.length;o+=1)f[o].c();a=C(),l=w("div"),s.c(),this.h()},l(o){e=b(o,"DIV",{class:!0});var d=k(e);t=b(d,"UL",{class:!0});var u=k(t);for(let h=0;h<f.length;h+=1)f[h].l(u);u.forEach(p),a=L(d),l=b(d,"DIV",{class:!0});var v=k(l);s.l(v),v.forEach(p),d.forEach(p),this.h()},h(){y(t,"class","days-list svelte-1x6l8wc"),y(l,"class","events"),y(e,"class","calendar svelte-1x6l8wc")},m(o,d){P(o,e,d),m(e,t);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(t,null);m(e,a),m(e,l),g[r].m(l,null),c=!0},p(o,[d]){if(d&13){n=o[2];let v;for(v=0;v<n.length;v+=1){const h=R(o,n,v);f[v]?f[v].p(h,d):(f[v]=F(h),f[v].c(),f[v].m(t,null))}for(;v<f.length;v+=1)f[v].d(1);f.length=n.length}let u=r;r=E(o),r===u?g[r].p(o,d):(x(),U(g[u],1,1,()=>{g[u]=null}),J(),s=g[r],s?s.p(o,d):(s=g[r]=_[r](o),s.c()),N(s,1),s.m(l,null))},i(o){c||(N(s),c=!0)},o(o){U(s),c=!1},d(o){o&&p(e),Z(f,o),g[r].d()}}}function me(i,e,t){let a,l=[],r=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],s=r[new Date(Date.now()).getDay()],c=new Date,n=c.getDay()>0?c.getDay():7,f=c.getDate()-n+1,_=new Date(c.setDate(f)),g=new Date(c.setDate(_.getDate()+6));const E=o=>{t(0,s=o.target.innerText)};return $(async()=>{const d=await(await fetch(`https://www.googleapis.com/calendar/v3/calendars/${ce}/events?timeMin=${_.toISOString()}&timeMax=${g.toISOString()}&singleEvents=true&key=${O}`,{method:"GET",mode:"cors"})).json();t(4,l=d.items)}),i.$$.update=()=>{i.$$.dirty&17&&t(1,a=l.filter(o=>{if(o.status==="cancelled")return!1;const d=new Date(o.start.dateTime).getDay();return r[d]===s}).sort((o,d)=>new Date(o.start.dateTime)>new Date(d.start.dateTime)))},[s,a,r,E,l]}class ge extends Q{constructor(e){super(),X(this,e,me,he,Y,{})}}export{ge as component};
