import{S as z,i as F,s as G,k as D,q as k,a as M,l as b,m as w,r as E,h as v,c as A,n as p,b as N,G as m,u as L,H as T,d as q,f as H,g as I,M as R,o as K,N as U,O as Q,v as Y,e as B,P as X,y as x,z as J,A as Z,Q as $,R as ee,B as te}from"../chunks/index.c962d490.js";const le="fb685ce350cd9a2fc99747ae935c0f3087f41aa2568d7c39b6229f6a8dbe2009@group.calendar.google.com",se="AIzaSyCch_C1MTw3cPsnAEeq4WdWGsBCrHbzXmU";function ne(i){let e,s,o,l,n,t,c,a,r,y,_,g=(i[1]||"No description available")+"",u;return{c(){e=D("div"),s=D("div"),o=D("h3"),l=k(i[0]),n=M(),t=D("span"),c=k(i[2]),a=k(" - "),r=k(i[3]),y=M(),_=D("p"),u=k(g),this.h()},l(d){e=b(d,"DIV",{class:!0});var f=w(e);s=b(f,"DIV",{class:!0});var h=w(s);o=b(h,"H3",{class:!0});var S=w(o);l=E(S,i[0]),S.forEach(v),n=A(h),t=b(h,"SPAN",{class:!0});var P=w(t);c=E(P,i[2]),a=E(P," - "),r=E(P,i[3]),P.forEach(v),h.forEach(v),y=A(f),_=b(f,"P",{class:!0});var C=w(_);u=E(C,g),C.forEach(v),f.forEach(v),this.h()},h(){p(o,"class","event-summary svelte-qpqtus"),p(t,"class","event-time svelte-qpqtus"),p(s,"class","event-details svelte-qpqtus"),p(_,"class","event-description"),p(e,"class","event svelte-qpqtus")},m(d,f){N(d,e,f),m(e,s),m(s,o),m(o,l),m(s,n),m(s,t),m(t,c),m(t,a),m(t,r),m(e,y),m(e,_),m(_,u)},p(d,[f]){f&1&&L(l,d[0]),f&2&&g!==(g=(d[1]||"No description available")+"")&&L(u,g)},i:T,o:T,d(d){d&&v(e)}}}function ae(i,e,s){let{summary:o}=e,{description:l}=e,{start:n}=e,{end:t}=e,c=new Date(n.dateTime).toLocaleTimeString("en-US",{timeStyle:"short"}),a=new Date(t.dateTime).toLocaleTimeString("en-US",{timeStyle:"short"});return i.$$set=r=>{"summary"in r&&s(0,o=r.summary),"description"in r&&s(1,l=r.description),"start"in r&&s(4,n=r.start),"end"in r&&s(5,t=r.end)},[o,l,c,a,n,t]}class oe extends z{constructor(e){super(),F(this,e,ae,ne,G,{summary:0,description:1,start:4,end:5})}}function O(i,e,s){const o=i.slice();return o[8]=e[s],o}function W(i,e,s){const o=i.slice();return o[11]=e[s],o}function V(i){let e,s,o=i[11]+"",l,n,t,c;return{c(){e=D("li"),s=D("button"),l=k(o),n=M(),this.h()},l(a){e=b(a,"LI",{class:!0});var r=w(e);s=b(r,"BUTTON",{type:!0,class:!0});var y=w(s);l=E(y,o),y.forEach(v),n=A(r),r.forEach(v),this.h()},h(){p(s,"type","button"),p(s,"class","svelte-1x6l8wc"),p(e,"class","day-selector svelte-1x6l8wc"),U(e,"selected",i[11]===i[0])},m(a,r){N(a,e,r),m(e,s),m(s,l),m(e,n),t||(c=Q(s,"click",i[3]),t=!0)},p(a,r){r&5&&U(e,"selected",a[11]===a[0])},d(a){a&&v(e),t=!1,c()}}}function re(i){let e,s;return{c(){e=D("p"),s=k("No events today!"),this.h()},l(o){e=b(o,"P",{class:!0});var l=w(e);s=E(l,"No events today!"),l.forEach(v),this.h()},h(){p(e,"class","no-events svelte-1x6l8wc")},m(o,l){N(o,e,l),m(e,s)},p:T,i:T,o:T,d(o){o&&v(e)}}}function ce(i){let e,s,o=i[1],l=[];for(let t=0;t<o.length;t+=1)l[t]=j(O(i,o,t));const n=t=>q(l[t],1,1,()=>{l[t]=null});return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=B()},l(t){for(let c=0;c<l.length;c+=1)l[c].l(t);e=B()},m(t,c){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(t,c);N(t,e,c),s=!0},p(t,c){if(c&2){o=t[1];let a;for(a=0;a<o.length;a+=1){const r=O(t,o,a);l[a]?(l[a].p(r,c),I(l[a],1)):(l[a]=j(r),l[a].c(),I(l[a],1),l[a].m(e.parentNode,e))}for(Y(),a=o.length;a<l.length;a+=1)n(a);H()}},i(t){if(!s){for(let c=0;c<o.length;c+=1)I(l[c]);s=!0}},o(t){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)q(l[c]);s=!1},d(t){R(l,t),t&&v(e)}}}function j(i){let e,s;const o=[i[8]];let l={};for(let n=0;n<o.length;n+=1)l=X(l,o[n]);return e=new oe({props:l}),{c(){x(e.$$.fragment)},l(n){J(e.$$.fragment,n)},m(n,t){Z(e,n,t),s=!0},p(n,t){const c=t&2?$(o,[ee(n[8])]):{};e.$set(c)},i(n){s||(I(e.$$.fragment,n),s=!0)},o(n){q(e.$$.fragment,n),s=!1},d(n){te(e,n)}}}function ie(i){let e,s,o,l,n,t,c,a=i[2],r=[];for(let u=0;u<a.length;u+=1)r[u]=V(W(i,a,u));const y=[ce,re],_=[];function g(u,d){var f;return((f=u[1])==null?void 0:f.length)>0?0:1}return n=g(i),t=_[n]=y[n](i),{c(){e=D("div"),s=D("ul");for(let u=0;u<r.length;u+=1)r[u].c();o=M(),l=D("div"),t.c(),this.h()},l(u){e=b(u,"DIV",{class:!0});var d=w(e);s=b(d,"UL",{class:!0});var f=w(s);for(let S=0;S<r.length;S+=1)r[S].l(f);f.forEach(v),o=A(d),l=b(d,"DIV",{class:!0});var h=w(l);t.l(h),h.forEach(v),d.forEach(v),this.h()},h(){p(s,"class","days-list svelte-1x6l8wc"),p(l,"class","events"),p(e,"class","calendar svelte-1x6l8wc")},m(u,d){N(u,e,d),m(e,s);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,null);m(e,o),m(e,l),_[n].m(l,null),c=!0},p(u,[d]){if(d&13){a=u[2];let h;for(h=0;h<a.length;h+=1){const S=W(u,a,h);r[h]?r[h].p(S,d):(r[h]=V(S),r[h].c(),r[h].m(s,null))}for(;h<r.length;h+=1)r[h].d(1);r.length=a.length}let f=n;n=g(u),n===f?_[n].p(u,d):(Y(),q(_[f],1,1,()=>{_[f]=null}),H(),t=_[n],t?t.p(u,d):(t=_[n]=y[n](u),t.c()),I(t,1),t.m(l,null))},i(u){c||(I(t),c=!0)},o(u){q(t),c=!1},d(u){u&&v(e),R(r,u),_[n].d()}}}function ue(i,e,s){let o,l=[],n=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],t=n[new Date(Date.now()).getDay()];const c=new Date,a=new Date(c.getFullYear(),c.getMonth(),c.getDate()-c.getDay()),r=new Date(c.getFullYear(),c.getMonth(),c.getDate()+(6-c.getDay())),y=_=>{s(0,t=_.target.innerText)};return K(async()=>{const g=await(await fetch(`https://www.googleapis.com/calendar/v3/calendars/${le}/events?timeMin=${a.toISOString()}&timeMax=${r.toISOString()}&key=${se}`,{method:"GET",mode:"cors"})).json();s(4,l=g.items)}),i.$$.update=()=>{i.$$.dirty&16&&console.log(l),i.$$.dirty&17&&s(1,o=l.filter(_=>{if(_.status==="cancelled")return!1;const g=new Date(_.start.dateTime).getDay();return n[g]===t}))},[t,o,n,y,l]}class _e extends z{constructor(e){super(),F(this,e,ue,ie,G,{})}}export{_e as component};
